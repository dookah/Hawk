<head>
    <title>Hawk - SE Hack</title>
    <!-- Bulma Import -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.1/css/bulma.min.css">
    <!-- Image Import-->
    {% load static %}
    
    <link rel="shortcut icon" href="{% static 'favicon.png' %}"/>
    <link rel="stylesheet" href="{% static 'custom.css' %}" />

    <style>
      .has-image-centered {
      margin-left: auto;
      margin-right: auto;
    }
    </style>
    <script type="text/javascript" src="{% static 'jquery-3.5.1.min.js' %}"></script>
</head>
<nav class="navbar" role="navigation" aria-label="main navigation">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://bulma.io">
        <img src="https://bulma.io/images/bulma-logo.png" width="112" height="28">
      </a>
  
      <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    </div>
  
    <div id="navbarBasicExample" class="navbar-menu">
      <div class="navbar-start">
        <a class="navbar-item">
          Home
        </a>
  
        <a class="navbar-item">
          Documentation
        </a>
  
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link">
            More
          </a>
  
          <div class="navbar-dropdown">
            <a class="navbar-item">
              About
            </a>
            <a class="navbar-item">
              Jobs
            </a>
            <a class="navbar-item">
              Contact
            </a>
            <hr class="navbar-divider">
            <a class="navbar-item">
              Report an issue
            </a>
          </div>
        </div>
      </div>
  
      <div class="navbar-end">
        <div class="navbar-item">
          <div class="buttons">
            <a class="button is-light" href="/dashboard">
                <strong>Dashboard</strong>
              </a>
            <a class="button is-danger" href="logout">
              Log out
            </a>
          </div>
        </div>
      </div>
    </div>
  </nav>
<div class="container">

    <div class="section">
        <h1 class="title is-3 has-text-centered">Settings</h1>
    </div>

    <div class="tile is-ancestor">
      <div class="tile is-parent">
        <div class="tile is-child">
          <div class="card">
            <div class="card-image">
              <figure class="image is-5by3">
                <img src="{% static 'meraki.png' %}" alt="Meraki">
              </figure>
            </div>
            <div class="card-content">
              <div class="media">
                <div class="media-content">
                  <p class="title is-4">Meraki</p>
                  <p class="subtitle is-6">Cisco Meraki Dashboard</p>
                </div>
              </div>
              <div class="content">
                <div class="control">
                  <div class="columns">
                    <div class="column is-3">
                      <label class="label">Enabled</label>
                    </div>
                    <div class="column">
                      <label class="radio">
                        <input type="radio" name="meraki" value="enabled">
                        Yes
                      </label>
                      <label class="radio">
                        <input type="radio" name="meraki" value="disabled" checked>
                        No
                      </label>
                    </div>
                  </div>
                </div>
                <br>
                <div class="field">
                  <label class="label">API key</label>
                  <input class="input" type="text" placeholder="Enter API key here..." id="meraki_ikey" value="{{ meraki.0.ikey }}">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="tile is-parent">
        <div class="tile is-child">
          <div class="card">
            <div class="card-image">
              <figure class="image is-5by3">
                <img src="{% static 'ise.png' %}" alt="ISE">
              </figure>
            </div>
            <div class="card-content">
              <div class="media">
                <div class="media-content">
                  <p class="title is-4">ISE</p>
                  <p class="subtitle is-6">Cisco Identity Services Engine</p>
                </div>
              </div>
              <div class="content">
                <div class="control">
                  <div class="columns">
                    <div class="column is-3">
                      <label class="label">Enabled</label>
                    </div>
                    <div class="column">
                      <label class="radio">
                        <input type="radio" name="ise" value="enabled">
                        Yes
                      </label>
                      <label class="radio">
                        <input type="radio" name="ise" value="disabled" checked>
                        No
                      </label>
                    </div>
                  </div>
                </div>
                <br>
                <div class="field">
                  <label class="label">Username</label>
                  <input class="input" type="text" placeholder="Username" id="ise_username" value="{{ ise.0.username }}">
                </div>
                <div class="field">
                  <label class="label">Password</label>
                  <input class="input" type="text" placeholder="Password" id="ise_password" value="{{ ise.0.password }}">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="tile is-parent">
        <div class="tile is-child">
          <div class="card">
            <div class="card-image">
              <figure class="image is-5by3">
                <img src="{% static 'duo.png' %}" alt="Duo">
              </figure>
            </div>
            <div class="card-content">
              <div class="media">
                <div class="media-content">
                  <p class="title is-4">Duo</p>
                  <p class="subtitle is-6">Cisco Duo</p>
                </div>
              </div>
              <div class="content">
                <div class="control">
                  <div class="columns">
                    <div class="column is-3">
                      <label class="label">Enabled</label>
                    </div>
                    <div class="column">
                      <label class="radio">
                        <input type="radio" name="duo" value="enabled">
                        Yes
                      </label>
                      <label class="radio">
                        <input type="radio" name="duo" value="disabled" checked>
                        No
                      </label>
                    </div>
                  </div>
                </div>
                <br>
                <div class="field">
                  <label class="label">Host</label>
                  <input class="input" type="text" placeholder="Hostname" id="duo_host" value="{{ duo.0.host }}">
                </div>
                <div class="field">
                  <label class="label">ikey</label>
                  <input class="input" type="text" placeholder="ikey" id="duo_ikey" value="{{ duo.0.ikey }}">
                </div>
                <div class="field">
                  <label class="label">skey</label>
                  <input class="input" type="text" placeholder="skey" id="duo_skey" value="{{ duo.0.skey }}">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="tile is-ancestor">
      <div class="tile is-parent">
        <div class="tile is-child">
          <div class="card">
            <div class="card-image">
              <figure class="image is-5by3">
                <img src="{% static 'viptela.png' %}" alt="Viptela">
              </figure>
            </div>
            <div class="card-content">
              <div class="media">
                <div class="media-content">
                  <p class="title is-4">SD-WAN</p>
                  <p class="subtitle is-6">Cisco Viptela SD-WAN</p>
                </div>
              </div>
              <div class="content">
                <div class="control">
                  <div class="columns">
                    <div class="column is-3">
                      <label class="label">Enabled</label>
                    </div>
                    <div class="column">
                      <label class="radio">
                        <input type="radio" name="viptela" value="enabled">
                        Yes
                      </label>
                      <label class="radio">
                        <input type="radio" name="viptela" value="disabled" checked>
                        No
                      </label>
                    </div>
                  </div>
                </div>
                <br>
                <div class="field">
                  <label class="label">Host</label>
                  <input class="input" type="text" placeholder="Hostname" id="viptela_host">
                </div>
                <div class="field">
                  <label class="label">ikey</label>
                  <input class="input" type="text" placeholder="ikey" id="viptela_ikey">
                </div>
                <div class="field">
                  <label class="label">skey</label>
                  <input class="input" type="text" placeholder="skey" id="viptela_skey">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="tile is-parent">
        <div class="tile is-child">
          <div class="card">
            <div class="card-image">
              <figure class="image is-5by3">
                <img src="{% static 'umbrella.png' %}" alt="Umbrella">
              </figure>
            </div>
            <div class="card-content">
              <div class="media">
                <div class="media-content">
                  <p class="title is-4">Umbrella</p>
                  <p class="subtitle is-6">Cisco Umbrella</p>
                </div>
              </div>
              <div class="content">
                <div class="control">
                  <div class="columns">
                    <div class="column is-3">
                      <label class="label">Enabled</label>
                    </div>
                    <div class="column">
                      <label class="radio">
                        <input type="radio" name="umbrella" value="enabled">
                        Yes
                      </label>
                      <label class="radio">
                        <input type="radio" name="umbrella" value="disabled" checked>
                        No
                      </label>
                    </div>
                  </div>
                </div>
                <br>
                <div class="field">
                  <label class="label">Host</label>
                  <input class="input" type="text" placeholder="Hostname" id="umbrella_host">
                </div>
                <div class="field">
                  <label class="label">ikey</label>
                  <input class="input" type="text" placeholder="ikey" id="umbrella_ikey">
                </div>
                <div class="field">
                  <label class="label">skey</label>
                  <input class="input" type="text" placeholder="skey" id="umbrella_skey">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="tile is-parent">
        <div class="tile is-child">
          <div class="card">
            <div class="card-image">
              <figure class="image is-5by3">
                <img src="{% static 'webex.png' %}" alt="Webex">
              </figure>
            </div>
            <div class="card-content">
              <div class="media">
                <div class="media-content">
                  <p class="title is-4">Webex</p>
                  <p class="subtitle is-6">Cisco Webex</p>
                </div>
              </div>
              <div class="content">
                <div class="control">
                  <div class="columns">
                    <div class="column is-3">
                      <label class="label">Enabled</label>
                    </div>
                    <div class="column">
                      <label class="radio">
                        <input type="radio" name="webex" value="enabled">
                        Yes
                      </label>
                      <label class="radio">
                        <input type="radio" name="webex" value="disabled" checked>
                        No
                      </label>
                    </div>
                  </div>
                </div>
                <br>
                <div class="field">
                  <label class="label">Host</label>
                  <input class="input" type="text" placeholder="Hostname" id="webex_host">
                </div>
                <div class="field">
                  <label class="label">ikey</label>
                  <input class="input" type="text" placeholder="ikey" id="webex_ikey">
                </div>
                <div class="field">
                  <label class="label">skey</label>
                  <input class="input" type="text" placeholder="skey" id="webex_skey">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <nav class="level m-6">
      <div class="level-item has-text-centered">
          <div class="field is-grouped">
            <div class="control">
              <button class="button is-link is-large" id="save">Save</button>
            </div>
            <div class="control">
              <button class="button is-link is-light is-large" id="cancel">Cancel</button>
            </div>
          </div>
      </div>
    </footer>


</div>

<!-- auth0login/templates/dashboard.html -->

<script>
  document.addEventListener('DOMContentLoaded', () => {
  (document.querySelectorAll('.notification .delete') || []).forEach(($delete) => {
    const $notification = $delete.parentNode;

    $delete.addEventListener('click', () => {
      $notification.parentNode.removeChild($notification);
    });
  });
});
</script>
<script>
  $(document).ready(function() {

    $("input[name='meraki']").click(function() {
      var radio = $("input[name='meraki']:checked").val();
      if(radio=="enabled") {
        $('#meraki_api_key').prop('disabled', false);
      } else if(radio=="disabled") {
        $('#meraki_api_key').prop('disabled', true);
      }
    });




    $('#cancel').click(function() {
      location.href = 'dashboard';
    });





    $('#save').click(function() {
      var integrations = ["meraki", "duo", "ise", "umbrella", "webex", "viptela"];
      var parameters = {
        'user': "",
        'product': "",
        'host': "",
        'ikey': "",
        'skey': "",
        'username': "",
        'password': "",
        'enabled': ""
      };
      for(i=0; i<integrations.length; i++) {
        var checkbox = String($("input[name=\"".concat(integrations[i]).concat("\"]")).prop('checked'));
        parameters['enabled'] = checkbox.charAt(0).toUpperCase() + checkbox.slice(1);
        parameters['host'] = $(String("#" + integrations[i] + "_" + "host")).val();
        parameters['ikey'] = $(String("#" + integrations[i] + "_" + "ikey")).val();
        parameters['skey'] = $(String("#" + integrations[i] + "_" + "skey")).val();
        parameters['username'] = $(String("#" + integrations[i] + "_" + "username")).val();
        parameters['password'] = $(String("#" + integrations[i] + "_" + "password")).val();
        
        for(var key in parameters) {
          if(parameters[key] === undefined) {
            parameters[key] = "";
          }
        }

        var to_store = {
          'user': "{{ auth0User.uid }}",
          'product': integrations[i],
          'host': parameters['host'],
          'ikey': parameters['ikey'],
          'skey': parameters['skey'],
          'username': parameters['username'],
          'password': parameters['password'],
          'enabled': parameters['enabled']
        }
      }
    });
    




  });
</script>